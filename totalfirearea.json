{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Line chart with annotation for a specific year.",
  "width": 800,
  "height": 450,
  "data": {
    "url": "data/australian_annual_bushfire_area_edited.csv",
    "format": {
      "type": "csv"
    }
  },
  "encoding": { 
    "x": {
      "field": "year_lvl",
      "type": "temporal",
      "timeUnit": "year",
      "title": "Year",
      "axis": {
        "format": "%Y",
        "tickCount": "year"
      }
    },
    "y": {
      "field": "Total_fire_area",
      "type": "quantitative",
      "title": "Total Fire Area (Million Hectares)",
      "scale": {"domainMax": 100}
    },
    "tooltip": [
      {"field": "Total_fire_area", "type": "quantitative", "title": "Total Fire Area(Million Hectares)"},
      {"field": "year_lvl", "type":"temporal", "timeUnit":"year", "title": "Year "}
    ]
  },
  "layer": [
    {
      "mark": {"type": "area", "opacity": 0.7, "color": "black"}
    },
    {
      "mark": {"type": "line", "strokeWidth": 2, "color": "black"}
    },
    {
      "mark": {"type": "circle", "color": "red", "size": 100},
      "transform": [
        {
          "filter": "year(datum.year_lvl) == 2015" 
        }
      ]
    },
    {
      "mark": {"type": "text", "dy": -15, "align": "center", "color": "red", "fontWeight": "bold"},
      "transform": [
        {
          "filter": "year(datum.year_lvl) == 2015" 
        }
      ],
      "encoding": { 
        "text": {"value": "Record Year"} 
      }
    }
  ],
  "resolve": {"scale": {"y": "shared"}} 
}